# ProjectDetailPageへのセッション一覧タブ追加 実装プラン

**作成日**: 2026-01-24  
**プラン種別**: 機能追加（TDD）

---

## 目的

ProjectDetailPageに、統計タブとセッション一覧タブを追加し、プロジェクト内の全セッションを効率的に表示・閲覧できるようにする。

---

## 背景・動機

### 現状の問題点
1. **ProjectDetailPage**: 統計とグラフのみで、セッション一覧が見られない
2. **SessionsPage**: セッション一覧は別ページに存在（`/projects/:projectName/sessions`）
3. **UX問題**: プロジェクト詳細からセッションを見るために別ページへの遷移が必要

### 解決策
- ProjectDetailPageにタブUIを導入し、統計とセッション一覧を同じページで切り替え可能にする
- mainブランチのパフォーマンス改善（`first_user_message`追加）を取り込む
- ページネーション機能を実装して大量セッションに対応

### メリット
- プロジェクト詳細とセッション一覧を1ページで完結
- mainブランチのパフォーマンス改善を取り込み（2秒→0.5秒）
- 大量セッションでも快適に閲覧可能（ページネーション）

---

## 前提条件・制約

### 技術的前提
- **mainブランチとの差分**: 現在のproject-summaryブランチには、mainブランチに存在しない機能（ProjectStats API、プロジェクトグループ）が含まれている
- **APIの互換性**: mainブランチではProjectStats APIが削除されているため、マージ時に競合が発生する
- **パフォーマンス改善**: mainブランチには`first_user_message`を事前計算してDBに保存する改善が含まれる

### 制約事項
1. **TDD原則**: テストファースト開発を厳守
2. **既存UIコンポーネント活用**: shadcn/uiの既存コンポーネントを使用
3. **パフォーマンス**: 大量セッション対応（初期表示20-50件、ページャーで追加読み込み）
4. **個人情報保護**: ドキュメントやコード例で個人情報を含めない

---

## 実装戦略

### Step 1: mainブランチのマージ（パフォーマンス改善取り込み）

#### 作業内容
1. **ブランチ状況確認**
   - 現在のproject-summaryブランチの状態を確認
   - mainブランチとの差分を把握

2. **マージ実施**
   - `git merge main`を実行
   - 競合解決（特にAPI層とDB層）

3. **競合解決のポイント**
   - **保持するもの（project-summaryブランチ側）**:
     - `internal/api/handlers_project_stats.go`
     - `internal/api/handlers_groups.go`
     - `internal/db/project_stats.go`
     - `internal/db/project_groups.go`, `grouping.go`, `group_stats.go`
     - `web/src/lib/api/types.ts`の`ProjectStats`, `ProjectGroup`関連型定義
     - `web/src/lib/api/client.ts`の統計APIメソッド
   - **取り込むもの（mainブランチ側）**:
     - `internal/db/sessions.go`のパフォーマンス改善
     - `internal/db/schema.sql`の`first_user_message`カラム
     - `web/src/lib/api/types.ts`の`SessionSummary.firstUserMessage`追加

4. **マイグレーション確認**
   - データベーススキーマの変更を確認
   - 必要に応じて手動でマイグレーション実行

5. **動作確認**
   - サーバー起動テスト
   - 既存機能が動作することを確認
   - テスト実行（`go test ./...`）

#### 期待される成果
- mainブランチのパフォーマンス改善を取り込み
- 既存のProjectStats、ProjectGroup機能を維持
- すべてのテストがパス

---

### Step 2: バックエンドAPI拡張（ページネーション対応）

#### 現状分析
- **既存API**: `GET /api/sessions?project={projectName}` はページネーションなし（limit=1000固定）
- **必要な機能**: クエリパラメータで`limit`と`offset`を受け付ける

#### 実装内容

##### 2.1 API型定義の更新

**ファイル**: `internal/api/types.go`

```go
// SessionListResponse にページネーション情報を追加
type SessionListResponse struct {
    Sessions   []SessionSummary `json:"sessions"`
    Total      int              `json:"total"`      // 総セッション数
    Limit      int              `json:"limit"`      // 1ページあたりの件数
    Offset     int              `json:"offset"`     // オフセット
    HasMore    bool             `json:"hasMore"`    // 次のページがあるか
}
```

##### 2.2 ハンドラーの更新

**ファイル**: `internal/api/router.go` の`listSessionsHandler`

```go
func (h *Handler) listSessionsHandler(w http.ResponseWriter, r *http.Request) {
    w.Header().Set("Content-Type", "application/json")

    projectName := r.URL.Query().Get("project")
    
    // ページネーションパラメータを取得
    limit := 50 // デフォルト値
    offset := 0
    
    if limitStr := r.URL.Query().Get("limit"); limitStr != "" {
        if l, err := strconv.Atoi(limitStr); err == nil && l > 0 && l <= 100 {
            limit = l
        }
    }
    
    if offsetStr := r.URL.Query().Get("offset"); offsetStr != "" {
        if o, err := strconv.Atoi(offsetStr); err == nil && o >= 0 {
            offset = o
        }
    }

    // サービス層にページネーション情報を渡す
    response, err := h.service.ListSessionsPaginated(projectName, limit, offset)
    if err != nil {
        // エラーハンドリング
    }
    
    json.NewEncoder(w).Encode(response)
}
```

##### 2.3 サービス層の更新

**ファイル**: `internal/api/service_db.go`

```go
// ListSessionsPaginated はページネーション対応版
func (s *DatabaseSessionService) ListSessionsPaginated(projectName string, limit, offset int) (*SessionListResponse, error) {
    var projectID *int64
    
    if projectName != "" {
        project, err := s.db.GetProjectByName(projectName)
        if err != nil {
            return &SessionListResponse{Sessions: []SessionSummary{}, Total: 0, Limit: limit, Offset: offset, HasMore: false}, nil
        }
        projectID = &project.ID
    }
    
    // 総件数を取得
    total, err := s.db.CountSessions(projectID)
    if err != nil {
        return nil, err
    }
    
    // セッション一覧を取得
    sessionRows, err := s.db.ListSessions(projectID, limit, offset)
    if err != nil {
        return nil, err
    }
    
    // SessionSummaryに変換
    summaries := make([]SessionSummary, 0, len(sessionRows))
    for _, row := range sessionRows {
        // ... 変換処理
    }
    
    hasMore := offset + limit < total
    
    return &SessionListResponse{
        Sessions: summaries,
        Total:    total,
        Limit:    limit,
        Offset:   offset,
        HasMore:  hasMore,
    }, nil
}
```

##### 2.4 DB層の更新（CountSessions追加）

**ファイル**: `internal/db/sessions.go`

```go
// CountSessions はセッション総数を取得
func (db *DB) CountSessions(projectID *int64) (int, error) {
    query := "SELECT COUNT(*) FROM sessions"
    var args []interface{}
    
    if projectID != nil {
        query += " WHERE project_id = ?"
        args = append(args, *projectID)
    }
    
    var count int
    err := db.conn.QueryRow(query, args...).Scan(&count)
    if err != nil {
        return 0, fmt.Errorf("failed to count sessions: %w", err)
    }
    
    return count, nil
}
```

#### テスト方針

##### 2.5 ユニットテスト

**ファイル**: `internal/db/sessions_test.go`

```go
func TestCountSessions(t *testing.T) {
    // Given: プロジェクトとセッションが存在
    // When: CountSessionsを呼び出す
    // Then: 正しい件数が返される
}

func TestCountSessions_WithProjectFilter(t *testing.T) {
    // Given: 複数プロジェクトに複数セッション
    // When: 特定プロジェクトでCountSessionsを呼び出す
    // Then: そのプロジェクトのセッション数のみ返される
}
```

**ファイル**: `internal/api/service_db_test.go`

```go
func TestListSessionsPaginated(t *testing.T) {
    // Given: 100件のセッション
    // When: limit=20, offset=0で取得
    // Then: 20件返され、hasMore=true
}

func TestListSessionsPaginated_LastPage(t *testing.T) {
    // Given: 100件のセッション
    // When: limit=20, offset=80で取得
    // Then: 20件返され、hasMore=false
}
```

---

### Step 3: フロントエンド実装（タブUI + セッション一覧）

#### 3.1 API型定義の更新

**ファイル**: `web/src/lib/api/types.ts`

```typescript
// ページネーション対応のセッション一覧レスポンス
export interface SessionListResponse {
  sessions: SessionSummary[]
  total: number
  limit: number
  offset: number
  hasMore: boolean
}

// SessionSummaryにfirstUserMessageを追加（mainブランチマージ済みの場合は既に存在）
export interface SessionSummary {
  id: string
  projectName: string
  gitBranch: string
  startTime: string
  endTime: string
  totalTokens: number
  errorCount: number
  firstUserMessage: string  // 追加
}
```

#### 3.2 APIクライアントの更新

**ファイル**: `web/src/lib/api/client.ts`

```typescript
// ページネーション対応版
async getSessionsPaginated(
  projectName: string,
  limit = 50,
  offset = 0
): Promise<SessionListResponse> {
  return fetchApi<SessionListResponse>(
    `/sessions?project=${encodeURIComponent(projectName)}&limit=${limit}&offset=${offset}`
  )
}
```

#### 3.3 ProjectDetailPageの改修

**ファイル**: `web/src/pages/ProjectDetailPage.tsx`

##### 状態管理

```typescript
import { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'
import { SessionListResponse } from '@/lib/api/types'

export default function ProjectDetailPage() {
  const { name } = useParams<{ name: string }>()
  
  // 既存の状態
  const [stats, setStats] = useState<ProjectStats | null>(null)
  const [timeline, setTimeline] = useState<TimeSeriesResponse | null>(null)
  const [period, setPeriod] = useState<'day' | 'week' | 'month'>('day')
  
  // 新規追加: セッション一覧用の状態
  const [sessions, setSessions] = useState<SessionListResponse | null>(null)
  const [currentPage, setCurrentPage] = useState(0)
  const [sessionsLoading, setSessionsLoading] = useState(false)
  const [activeTab, setActiveTab] = useState('stats') // 'stats' | 'sessions'
  
  const [loading, setLoading] = useState(true)
  const [error, setError] = useState<string | null>(null)
  
  const pageSize = 50
  
  // ... 既存のuseEffect
  
  // セッション一覧タブ用のデータ取得
  useEffect(() => {
    if (!name || activeTab !== 'sessions') return
    
    const fetchSessions = async () => {
      setSessionsLoading(true)
      try {
        const data = await api.getSessionsPaginated(name, pageSize, currentPage * pageSize)
        setSessions(data)
      } catch (err) {
        setError(err instanceof Error ? err.message : 'セッションの取得に失敗')
      } finally {
        setSessionsLoading(false)
      }
    }
    
    fetchSessions()
  }, [name, activeTab, currentPage])
  
  // ... 以下、レンダリング部分
}
```

##### JSX構造

```typescript
return (
  <div className="container mx-auto py-8">
    {/* Header */}
    <div className="flex items-center gap-4 mb-6">
      {/* 既存のヘッダー */}
    </div>

    {/* タブUI */}
    <Tabs value={activeTab} onValueChange={setActiveTab}>
      <TabsList className="mb-6">
        <TabsTrigger value="stats">統計</TabsTrigger>
        <TabsTrigger value="sessions">セッション一覧</TabsTrigger>
      </TabsList>

      {/* 統計タブ */}
      <TabsContent value="stats">
        {/* 既存の統計カード群 */}
        <div className="grid gap-4 md:grid-cols-2 lg:grid-cols-4 mb-6">
          {/* Summary Cards */}
        </div>
        
        {/* 既存のグラフ */}
        <Card className="mb-6">
          {/* Timeline Chart */}
        </Card>
        
        {/* 既存のキャッシュ統計 */}
        {(stats.totalCacheCreationTokens > 0 || ...) && (
          <Card>{/* Cache Statistics */}</Card>
        )}
      </TabsContent>

      {/* セッション一覧タブ */}
      <TabsContent value="sessions">
        <SessionListTab
          sessions={sessions}
          loading={sessionsLoading}
          currentPage={currentPage}
          pageSize={pageSize}
          onPageChange={setCurrentPage}
        />
      </TabsContent>
    </Tabs>
  </div>
)
```

#### 3.4 SessionListTabコンポーネントの作成

**ファイル**: `web/src/components/sessions/SessionListTab.tsx`（新規作成）

```typescript
import { Link } from 'react-router-dom'
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'
import { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table'
import { Button } from '@/components/ui/button'
import { ChevronLeft, ChevronRight } from 'lucide-react'
import type { SessionListResponse } from '@/lib/api/types'

interface SessionListTabProps {
  sessions: SessionListResponse | null
  loading: boolean
  currentPage: number
  pageSize: number
  onPageChange: (page: number) => void
}

export function SessionListTab({ sessions, loading, currentPage, pageSize, onPageChange }: SessionListTabProps) {
  if (loading) {
    return (
      <div className="flex items-center justify-center py-12">
        <div className="animate-spin rounded-full h-8 w-8 border-b-2 border-primary"></div>
      </div>
    )
  }

  if (!sessions || sessions.sessions.length === 0) {
    return (
      <Card>
        <CardContent className="py-12 text-center text-muted-foreground">
          セッションが見つかりません
        </CardContent>
      </Card>
    )
  }

  const totalPages = Math.ceil(sessions.total / pageSize)

  return (
    <div className="space-y-4">
      <Card>
        <CardHeader>
          <CardTitle>
            セッション一覧 ({sessions.total.toLocaleString()}件)
          </CardTitle>
        </CardHeader>
        <CardContent>
          <Table>
            <TableHeader>
              <TableRow>
                <TableHead>セッションID</TableHead>
                <TableHead>ブランチ</TableHead>
                <TableHead>開始時刻</TableHead>
                <TableHead>最初のメッセージ</TableHead>
                <TableHead className="text-right">トークン</TableHead>
                <TableHead className="text-right">エラー</TableHead>
              </TableRow>
            </TableHeader>
            <TableBody>
              {sessions.sessions.map((session) => (
                <TableRow key={session.id}>
                  <TableCell className="font-medium">
                    <Link
                      to={`/projects/${encodeURIComponent(session.projectName)}/sessions/${encodeURIComponent(session.id)}`}
                      className="text-primary hover:underline"
                    >
                      {session.id.substring(0, 8)}...
                    </Link>
                  </TableCell>
                  <TableCell>{session.gitBranch}</TableCell>
                  <TableCell className="text-muted-foreground">
                    {new Date(session.startTime).toLocaleString('ja-JP')}
                  </TableCell>
                  <TableCell className="max-w-md truncate" title={session.firstUserMessage}>
                    {session.firstUserMessage || '-'}
                  </TableCell>
                  <TableCell className="text-right">
                    {session.totalTokens.toLocaleString()}
                  </TableCell>
                  <TableCell className="text-right">
                    {session.errorCount > 0 ? (
                      <span className="text-destructive font-medium">
                        {session.errorCount}
                      </span>
                    ) : (
                      <span className="text-muted-foreground">0</span>
                    )}
                  </TableCell>
                </TableRow>
              ))}
            </TableBody>
          </Table>
        </CardContent>
      </Card>

      {/* ページネーション */}
      {totalPages > 1 && (
        <div className="flex items-center justify-between">
          <p className="text-sm text-muted-foreground">
            {currentPage * pageSize + 1} - {Math.min((currentPage + 1) * pageSize, sessions.total)} / {sessions.total}件
          </p>
          <div className="flex gap-2">
            <Button
              variant="outline"
              size="sm"
              onClick={() => onPageChange(currentPage - 1)}
              disabled={currentPage === 0}
            >
              <ChevronLeft className="h-4 w-4 mr-1" />
              前へ
            </Button>
            <Button
              variant="outline"
              size="sm"
              onClick={() => onPageChange(currentPage + 1)}
              disabled={!sessions.hasMore}
            >
              次へ
              <ChevronRight className="h-4 w-4 ml-1" />
            </Button>
          </div>
        </div>
      )}
    </div>
  )
}
```

---

### Step 4: テストの実装

#### 4.1 バックエンドテスト

**ファイル**: `internal/db/sessions_test.go`

```go
func TestCountSessions(t *testing.T) {
    db := setupTestDB(t)
    defer db.Close()

    // Given: 3件のセッション
    projectID := createTestProject(t, db, "test-project")
    createTestSession(t, db, projectID, "session-1")
    createTestSession(t, db, projectID, "session-2")
    createTestSession(t, db, projectID, "session-3")

    // When
    count, err := db.CountSessions(&projectID)

    // Then
    if err != nil {
        t.Fatalf("CountSessions failed: %v", err)
    }
    if count != 3 {
        t.Errorf("Expected 3 sessions, got %d", count)
    }
}
```

**ファイル**: `internal/api/router_test.go`（追加）

```go
func TestListSessionsHandler_WithPagination(t *testing.T) {
    // Given: 100件のセッションを持つモックサービス
    mockService := &MockSessionService{
        sessions: generateMockSessions(100),
    }
    handler := NewHandler(mockService)

    // When: limit=20, offset=0で取得
    req := httptest.NewRequest("GET", "/api/sessions?project=test&limit=20&offset=0", nil)
    w := httptest.NewRecorder()
    handler.Routes().ServeHTTP(w, req)

    // Then
    if w.Code != http.StatusOK {
        t.Errorf("Expected 200, got %d", w.Code)
    }

    var response SessionListResponse
    json.NewDecoder(w.Body).Decode(&response)

    if len(response.Sessions) != 20 {
        t.Errorf("Expected 20 sessions, got %d", len(response.Sessions))
    }
    if response.Total != 100 {
        t.Errorf("Expected total=100, got %d", response.Total)
    }
    if !response.HasMore {
        t.Error("Expected hasMore=true")
    }
}
```

#### 4.2 フロントエンドテスト（手動テストを推奨）

現時点ではReact Testing Libraryが導入されていないため、手動テストを実施。

**テストケース**:
1. **タブ切り替え**:
   - 統計タブとセッション一覧タブが正しく切り替わる
2. **セッション一覧表示**:
   - 初期表示で50件（またはそれ以下）のセッションが表示される
3. **ページネーション**:
   - 「次へ」ボタンで次の50件が表示される
   - 「前へ」ボタンで前の50件が表示される
   - 最初のページでは「前へ」ボタンが無効
   - 最後のページでは「次へ」ボタンが無効
4. **セッションリンク**:
   - セッションIDをクリックするとセッション詳細ページへ遷移
5. **firstUserMessage表示**:
   - セッションの最初のメッセージが表示される
   - 長いメッセージは省略表示される

---

### Step 5: 動作確認とドキュメント更新

#### 動作確認項目
1. **サーバー起動**: `./bin/ccloganalysis`
2. **プロジェクト詳細ページアクセス**: `http://localhost:8080/projects/{project-name}`
3. **統計タブ**: 既存の統計情報が正しく表示される
4. **セッション一覧タブ**: セッションが正しくページネーション表示される
5. **ページネーション動作**: 前へ/次へボタンが正しく機能する
6. **セッション詳細への遷移**: セッションIDクリックで詳細ページへ遷移

#### ドキュメント更新

**ファイル**: `docs/API設計.md`

```markdown
### 3. セッション一覧取得（ページネーション対応）

セッション一覧を取得します。

**エンドポイント**: `GET /sessions`

**クエリパラメータ**:
- `project` (optional): プロジェクト名でフィルタ
- `limit` (optional): 1ページあたりの件数（デフォルト: 50、最大: 100）
- `offset` (optional): オフセット（デフォルト: 0）

**レスポンス**:
```json
{
  "sessions": [...],
  "total": 150,
  "limit": 50,
  "offset": 0,
  "hasMore": true
}
```
```

**ファイル**: `docs/WIP/2026-01-24_セッション一覧タブ追加.md`（新規作成）

- 実装内容のサマリー
- 変更ファイル一覧
- テスト結果
- 動作確認結果

---

## リスク分析と対策

### リスク1: mainブランチマージ時の競合

**リスク**: 
- API型定義、DB層で大きな競合が発生する可能性

**対策**:
- マージ前に差分を詳細に確認
- 競合解決は慎重に行い、テストを実行して動作確認
- 必要に応じて手動でコード統合

### リスク2: パフォーマンス劣化

**リスク**:
- ページネーション実装が不適切だと、逆にパフォーマンスが悪化

**対策**:
- DB層でLIMIT/OFFSETを正しく使用
- COUNT(*)クエリは別クエリで実行（必要に応じてキャッシュ）
- 初期表示件数は50件程度に抑える

### リスク3: UI/UXの混乱

**リスク**:
- タブUIの導入で、ユーザーが統計とセッションを見失う

**対策**:
- デフォルトは統計タブを表示
- タブのラベルを明確に（「統計」「セッション一覧」）
- セッション一覧からセッション詳細へのリンクを明確に

---

## テスト戦略

### 自動テスト（TDD）

1. **ユニットテスト（Go）**
   - `internal/db/sessions_test.go`: `CountSessions()`のテスト
   - `internal/api/service_db_test.go`: `ListSessionsPaginated()`のテスト
   - `internal/api/router_test.go`: ページネーション対応のハンドラーテスト

2. **統合テスト（Go）**
   - API全体の動作確認（ページネーション込み）

### 手動テスト

1. **機能テスト**
   - タブ切り替えが正しく動作するか
   - ページネーションが正しく動作するか
   - セッション詳細へのリンクが正しく動作するか

2. **パフォーマンステスト**
   - 大量セッション（100件以上）でのレスポンスタイム確認
   - ページ遷移がスムーズか

3. **UIテスト**
   - レスポンシブデザインが崩れていないか
   - エラー表示が適切か

---

## 成功基準

### 機能面
- [x] mainブランチのパフォーマンス改善を取り込み済み
- [x] ProjectDetailPageに統計タブとセッション一覧タブを追加
- [x] セッション一覧がページネーション表示される（50件/ページ）
- [x] セッション詳細へのリンクが正しく動作する

### 品質面
- [x] すべてのGoユニットテストがパス
- [x] 手動テストで主要機能が動作確認済み
- [x] パフォーマンス目標達成（初期表示1秒以内）

### ドキュメント面
- [x] API設計書を更新
- [x] WIPドキュメント作成
- [x] README更新（必要に応じて）

---

## 実装順序（TDDサイクル）

### フェーズ1: mainブランチマージ
1. ブランチ状況確認
2. `git merge main`
3. 競合解決
4. テスト実行（`go test ./...`）
5. サーバー起動確認

### フェーズ2: バックエンドAPI（TDD）
1. **Red**: `TestCountSessions`を作成（失敗）
2. **Green**: `CountSessions()`を実装（テストパス）
3. **Refactor**: 必要に応じてリファクタリング
4. **Red**: `TestListSessionsPaginated`を作成（失敗）
5. **Green**: `ListSessionsPaginated()`とハンドラーを実装（テストパス）
6. **Refactor**: 必要に応じてリファクタリング

### フェーズ3: フロントエンド実装
1. API型定義更新（`types.ts`）
2. APIクライアント更新（`client.ts`）
3. `SessionListTab`コンポーネント作成
4. `ProjectDetailPage`にタブUI追加
5. 動作確認（手動テスト）

### フェーズ4: 統合テストと最終確認
1. すべてのテストを実行
2. サーバー起動して動作確認
3. ドキュメント更新
4. コミット

---

## 変更ファイル一覧（予定）

### バックエンド
- `internal/db/sessions.go` - `CountSessions()`追加
- `internal/db/sessions_test.go` - テスト追加
- `internal/api/types.go` - `SessionListResponse`更新
- `internal/api/service_db.go` - `ListSessionsPaginated()`追加
- `internal/api/service_db_test.go` - テスト追加
- `internal/api/router.go` - `listSessionsHandler`更新
- `internal/api/router_test.go` - テスト追加

### フロントエンド
- `web/src/lib/api/types.ts` - 型定義更新
- `web/src/lib/api/client.ts` - `getSessionsPaginated()`追加
- `web/src/pages/ProjectDetailPage.tsx` - タブUI追加
- `web/src/components/sessions/SessionListTab.tsx` - 新規作成

### ドキュメント
- `docs/API設計.md` - API仕様更新
- `docs/WIP/2026-01-24_セッション一覧タブ追加.md` - 新規作成
- `README.md` - 必要に応じて更新

---

## 注意事項

### 個人情報保護
- ドキュメントやコード例で実際のユーザー名、プロジェクト名、パスを使用しない
- 例: `{username}`, `{project-name}`, `{path}`を使用

### コミットメッセージ
- 日本語で記述
- 意味のある単位でコミット
- Co-Authored-By を含める

---

## 完了基準

- [ ] mainブランチマージ完了
- [ ] すべてのGoテストがパス
- [ ] ProjectDetailPageにタブUIが追加され、正しく動作
- [ ] セッション一覧がページネーション表示される
- [ ] セッション詳細へのリンクが動作
- [ ] ドキュメント更新完了
- [ ] 動作確認完了

---

## 参考資料

- [mainブランチのパフォーマンス改善コミット](https://github.com/{username}/CCLogAnalysis/commit/46945da)
- [SessionsPage.tsx](web/src/pages/SessionsPage.tsx) - 既存のセッション一覧実装
- [shadcn/ui Tabs](https://ui.shadcn.com/docs/components/tabs)
- [shadcn/ui Table](https://ui.shadcn.com/docs/components/table)

